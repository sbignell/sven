{"version":3,"file":"index (2).min.js","sources":["index%20(2).js"],"names":["exports","find","req","res","next","query","search","limit","parseInt","page","sort","filters","RegExp","app","db","models","Admin","pagedFind","keys","err","results","xhr","header","send","render","data","escape","JSON","stringify","read","outcome","getAdminGroups","callback","AdminGroup","exec","adminGroups","getRecord","findById","params","id","populate","record","asyncFinally","require","parallel","create","workflow","utility","on","body","emit","errors","push","nameParts","trim","split","fieldsToSet","name","first","shift","middle","length","last","join","full","admin","update","errfor","hasErrors","findByIdAndUpdate","groups","user","roles","isMemberOf","permissions","linkUser","newUsername","User","findOne","username","user.id","_id","$ne","roles.admin","unlinkUser","userId","undefined","save","findByIdAndRemove"],"mappings":"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"}